# ==========================================
# üßõ TMUX - DRACULA FIXED
# ==========================================

# ===== TPM =====
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# ===== INFO PLUGINY =====
set -g @plugin 'tmux-plugins/tmux-cpu'

# ===== CPU =====
set -g @cpu_percentage_format "%3.0f%%"

# ===== Z√ÅKLADN√ç NASTAVEN√ç =====
set -g mouse on
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
set -g set-clipboard on

# Prefix
unbind C-b
set-option -g prefix C-a
bind C-a send-prefix

# History
set-option -g history-limit 10000
set -sg escape-time 0

# Start at 1
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# ===== ƒåERN√â POZAD√ç =====
set -g window-style 'bg=black'
set -g window-active-style 'bg=black'

# Pane borders
set -g pane-border-style "fg=#44475a,bg=black"
set -g pane-active-border-style "fg=#bd93f9,bg=black,bold"

# Message
set -g message-style "bg=#bd93f9,fg=#282a36,bold"

# ===== STATUS BAR =====

# Status bar background
set -g status-style "bg=#282a36,fg=#f8f8f2"

# Window status
set -g window-status-style "bg=#44475a,fg=#f8f8f2"
set -g window-status-current-style "bg=#bd93f9,fg=#282a36,bold"
set -g window-status-activity-style "bg=#6272a4,fg=#f8f8f2"

# Window format
set -g window-status-format " #I:#W "
set -g window-status-current-format " #I:#W "
set -g window-status-separator ""

# ===== STATUS BAR LAYOUT =====
set -g status-position bottom
set -g status-justify left
set -g status-left-length 50
set -g status-right-length 200
set -g status-interval 2

# LEFT
set -g status-left "#[bg=#bd93f9,fg=#282a36,bold] Û∞çπ #I/#P #[bg=#282a36,fg=#bd93f9]‚ñì‚ñë "

# RIGHT - bez network (nefunguje spr√°vnƒõ), bez mezery p≈ôed hostname
set -g status-right "#[fg=#ff5555]Û∞òö #{cpu_percentage} #[fg=#6272a4]‚îÇ #[fg=#ffb86c]Û∞çõ #{ram_percentage} #[fg=#6272a4]‚îÇ #[fg=#8be9fd]Û∞•î %H:%M:%S #[fg=#6272a4]‚îÇ #[fg=#ff79c6]Û∞É≠ %d %b %Y #[fg=#6272a4]‚îÇ #[fg=#50fa7b]üñ•Ô∏è #H"

# ===== TVOJE KEYBINDINGS =====
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

bind e setw synchronize-panes
bind r source-file ~/.tmux.conf \; display "‚úì Reloaded!"

# ===== COPY MODE =====
setw -g mode-keys vi
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -i"

set -g mode-style "bg=#8be9fd,fg=#282a36,bold"

# Clock
set -g clock-mode-colour "#bd93f9"

# ===== TPM INIT =====
run '~/.tmux/plugins/tpm/tpm'

# ==========================================
# üßõ DRACULA - FIXED VERSION
# ==========================================
#
# FIXES:
#   ‚úÖ Network usage pomoc√≠ /sys/class/net
#   ‚úÖ Odstranƒõna mezera p≈ôed hostname
#   ‚úÖ ƒåist√Ω design
#
# NOTE: Pokud network nefunguje, zmƒõ≈à 'eth0'
#       na spr√°vn√Ω interface (zjist√≠≈°: ip link show)
#
# ==========================================
